<html>
<head>
	<title> Profile | PriCoSha </title>
	<style>
	body {font-family: Arial;}
	div.tab {
	    overflow: hidden;
	    border: 1px solid #ccc;
	    background-color: #000000;
	}
	div.tab button {
	    background-color: inherit;
	    float: left;
	    border: none;
	    outline: none;
	    cursor: pointer;
	    padding: 14px 16px;
	    transition: 0.3s;
	    font-size: 17px;
	    color: white;
	}
	div.tab button:hover {
	    background-color: #ddd;
	}
	div.tab button.active {
	    background-color: #ccc;
	}
	.tabcontent {
	    display: none;
	    padding: 6px 12px;
	    border: 1px solid #ccc;
	    border-top: none;
	}
	input[type=text],[type=password] {
		width: 30%;
		padding: 8px 8px;
		border: 1px solid black;
   		border-radius: 2px;
	}
	div.send button {
		background-color: #04859D;
		border: none;
		color: white;
		padding: 15px 32px;
		text-align: center;
		display: inline-block;
		font-size: 18px;
	    margin-bottom: 10px;
	}
	p {
		font-family: "Arial";
		color: #4d94ff;
		font-size: 150%;
	}
	h1 {
		color: #1D7471;
		font-size: 250%;
	}
	h5 { 
		font-size:500%;
		text-align: center;
		color: #04859D;
		font-family: "Brush Script MT", cursive;
		margin: 0;
	}
	h2 {
		font-size: 200%;
		margin-top: 0;
		text-align: center;
		color: #37b6ce;
	}
	</style>
</head>
<body>
	<center>
		{% if error %}
			<p><strong>Error: </strong>{{error}}</p>
		{% endif %}
		<div class="tab">
		  <button class="tablinks" onclick="openTab(event, 'Name')">Name</button>
		  <button class="tablinks" onclick="openTab(event, 'Password')">Password</button>
		</div>

		<form action="/change_name" method="POST">
			<div id="Name" class="tabcontent">
			  <h1>{{name[0].first_name}} {{name[0].last_name}}</h1>
			  <hr>
			  <h2>Change Name</h2>
			  <input type="text" name="first_name" placeholder="First Name" style="text-align: center" required><br><br>
			  <input type="text" name="last_name" placeholder="Last Name" style="text-align: center" required><br><br>
			  <div class="send"><button type="submit" value="Change">Change</button></div>
			</div>
		</form>

		<form action="/change_pass" method="POST">
			<div id="Password" class="tabcontent">
				<h2>Change Password</h2>
				<input type="password" placeholder="Old Password" name="old" required><br><br>
				<input type="password" placeholder="New Password" id="password" name="new" required><br><br>
        		<input type="password" placeholder="Confirm Password" id="confirm_password" required><br><br>
        		<div class="send"><button type="submit">Confirm</button></div>
			</div>
		</form>

		<script>
			function openTab(evt, tabName) {
			    var i, tabcontent, tablinks;
			    tabcontent = document.getElementsByClassName("tabcontent");
			    for (i = 0; i < tabcontent.length; i++) {
			        tabcontent[i].style.display = "none";
			    }
			    tablinks = document.getElementsByClassName("tablinks");
			    for (i = 0; i < tablinks.length; i++) {
			        tablinks[i].className = tablinks[i].className.replace(" active", "");
			    }
			    document.getElementById(tabName).style.display = "block";
			    evt.currentTarget.className += " active";
			}
			var password = document.getElementById("password"), confirm_password = document.getElementById("confirm_password");
			function validatePassword(){
			  if(password.value != confirm_password.value) {
			    confirm_password.setCustomValidity("Passwords Don't Match");
			  } else {
			    confirm_password.setCustomValidity('');
			  }
			}
			password.onchange = validatePassword;
			confirm_password.onkeyup = validatePassword;
		</script>
		     
		<br>
		<a href="/home"><div class="send"><button type="submit">Home</button></div></a>

		<h5>PriCoSha</h5>
	</center>
</body>
</html>